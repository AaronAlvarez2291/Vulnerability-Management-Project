# Vulnerability-Management-Project

<h2>Overview</h2>

This project was created and used to gain experience with Nessus Essentials to learn how to scan for vulnerabilities on machines and remediate them. In this lab I will be using Nessus essentials to scan vulnerable virtual machines on my network and then implementing patches to those vulnerable virtual machines. In this lab we will be scanning our vulnerable machines using both credentialed and non-credentialed scans and showing why credentialed scans are better than uncredentialed scans.

<h2>Nessus & VM setup</h2>

The first thing I did when i started this lab was downloading Nessus Essentials my Vulnerability management software. By following this <a href="https://docs.tenable.com/nessus/Content/InstallNessusWindows.htm">documentation</a> i was able to download Nessus Essentials.

<img src="Images/Nessus Essentials Downloading.jpeg">

Tne Download for Nessus Essentials takes a while so while waiting for it finish Downloading I decided to set up my Windows 10 VM. I hosted my VM on <a href="https://www.virtualbox.org/">VirtualBox</a> and I downloaded the Windows 10 iso using <a href="https://support.microsoft.com/en-us/windows/create-installation-media-for-windows-99a58364-8c02-206f-aa6f-40c3b507420d">microsofts installation media</a>. I then configured my VM and its network adapter settings to be bridged so it could be on the same network as my native machine. By following this VM installation <a href="https://pureinfotech.com/create-windows-10-virtual-machine-virtualbox/">documentation</a> I was able to download and configure my virtual machine.

<img src="Images/Virtual Box Network Adapter.png">

After i had setup my VM the installation for Nessus was still taking place. So I then proceeded to launch my VM and check if it was part of my locat network by using the ipconfig command.

<img src="Images/VM IP adreess.png"> 

I then tried to ping the VM from my native computer to see if I can communicate with the VM. The reason I am doing this is because if I can't ping the VM then Nessus won't be able to as well and can't run its scans. As we can see the pings are timing out, meaning my native PC can't establish a connection with it at the moment.

<img src="Images/Ping Failed.png">

The reason my native machine can't establish a connection is because the VM has a firewall active and it is blocking all connection attempts (which is a good thing, but not for the purposes of this lab) so I have to configure the windows firewall to allow pings. By following this <a href="https://kb.iu.edu/d/aopy">documentation</a> i was able to configure the firewall to accept ping requests. As we can see by enabling File and Printer Sharing (Echo Request - ICMPv4-In) rule in my firewall we can now see that i am allowed to ping my VM.

https://user-images.githubusercontent.com/120752988/208491183-18c60d21-17e4-44f0-acec-3375f6922f99.mp4

<img src="Images/Pinging VM.png"> 

After i had finished configuring my VM to accept ping requests my Nessus Essentials was finished downnloading. Now the first thing i did in Nessus Essentials was create a new scan and then select basic scan.

<img src="Images/Create new scan.jpeg"> 
<img src="Images/Basic Scan.jpeg"> 

The newly created scan then asks me to give the scan a name and select a target to scan. This target could be a range of ip addresses for eg. 192.168.100.1-192.168.100.10 or a single target. In my case i was scanning a single VM on my network so i put in one IP address. My virtual machines IP address is 192.168.100.200 so thats what i put in the target field.

<img src="Images/Configuring Scan.png"> 

This is the end of configurations for both Nessus Essentials and our virtual machine to see the results of our non-credential and credentialed scans on our VM please read the observation section.

<h2>Running Scans</h2>

After I created the new scan i then launched the scan and waited for the scan to finish. We can tell when a scan is done because it will have a grey checkmark next to it.

<img src"Images/Launching Scan">

<img src"Images/Scan Running.gif">

<img src"Images/Scan Complete.jpeg">

After it was finished i clicked on the scan and found that there was 49 results, 43 of which are info and 6 medium. Info vulnerabilities tell us ... and medium severity vulnerabilities tell us ... We could also see 5 tabs when we click on the host we scanned. We can see host, vilnerabilities, Remediations, VPR top threats and finally History. The host tab shows us the host which has been scanned and info about what type of vulnerabilities have been found, the vulnerabilities tab shows us all he vulnerablities found and gives us a description of the vulnerability, the remediation tab tells us ways we can use to remediate these vulnerabilities, the VPR top threats tells us which vulnerabilities are dangerous and give us an idea of what we sgould prioritize and the history tabs shows us a history of all the scans done and their results 

<img src="Images/Non-Credential Results.png"> 
<img src="Images/5 tabs.png"> 

Since we did not provide credentials .. this scan we performed is classified as a non-credential scan.

I am now going to run a credentialed scan. Before we can do this we much first configure the VM to allow for this type of scan. Before i configure my VM i must first give my vulnerability scanner the credentials to get into the Windows 10 system. 

<img src=""> Image of configuring credential scan in Nessus

Now its time for me to configure the VM to allow for a credentialed scan. So the first thing i did was i went into services and enabled remote registry. This will allow Nessus to coonect to the VM's registry and properly scan for vulnerabilities such as insecure connections or deprecated cipher suites. I am following this step from Nessus and what they recommended to do to run a credentialed scan.

[<img src=""> Enabling Remote Registry](https://user-images.githubusercontent.com/120752988/208489911-cd45be46-0d00-40aa-bc7f-e2bdebb9f169.mp4)

User Controls BOii

Finally i opened the registry and added a key that is suppose to allow Nessus to connect in by further disabling user account controls. The key is a Dword key and we named the key LocalAccountTokenFilterPolicy and changed the value to 1. This key is to be created in 

<img src="Images/Registry.jpeg"> 
<img src="Images/Key Creation.jpeg"> 

When this is done i restarted the machine so the change i made in the registry could take effect. After this is done i returned to Nessus and ran my credentialed scan.

<img src="Images/Running Credentialed Scan.jpeg">

From the results we can see that the credentialed scan has given us a lot more vulnerabilities than the first one. This is because it is able to scan deeper into the VM due to having credentials. The top picture is the new credentialed scan and the bottom picture is from the first non-credentialed scan. 

<img src="Images/Credential Scan without old software.jfif"> 
<img src="Images/Non-Credential Results.png"> 

What is a credential and non-credential scan?

From the results in the observation section the reason they are so diffrernt and why credentialed scan is better is because ...

<h2>Why Vulnerability Management is Important</h2>

<h2>Resources</h2>






